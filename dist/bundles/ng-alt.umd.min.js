!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/Observable"),require("rxjs/Subject"),require("rxjs/add/observable/of"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/mergeMap")):"function"==typeof define&&define.amd?define("ng-alt",["exports","@angular/core","rxjs/Observable","rxjs/Subject","rxjs/add/observable/of","rxjs/add/operator/filter","rxjs/add/operator/mergeMap"],e):e(t["ng-alt"]={},t.ng.core,t.Rx,t.Rx)}(this,function(t,e,r,n){"use strict";function i(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)s.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return s}var o=function(){function t(){this._state=[],this.state=new n.Subject}return t.prototype.addAlternative=function(t){this._state=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}(this._state,[{view:t,cond:!1}]),this.enforceState()},t.prototype.updateAlternative=function(e){var t,r=this._state.findIndex(function(t){return t.view===e});-1!==r&&(this._state=Object.assign([],this._state,((t={})[r]={view:e,cond:!1},t)),this.enforceState())},t.prototype.enforceState=function(){this._state=this._state.map(function(t){return Object.assign({},t,{cond:!1})});var t=this._state.findIndex(function(t){return t.view.cond});-1!==t&&(this._state[t].cond=!0),this.state.next(this._state)},t}();o.decorators=[{type:e.Directive,args:[{selector:"[ngAltGroup]"}]}];var s=function(){function t(t,e,r){this.templateRef=t,this.viewContainer=e,this.ngAltGroup=r,this.cond=!1,this.hasView=!1}return t.prototype.ngOnInit=function(){var e=this;this.ngAltGroup.addAlternative(this),this.sub=this.ngAltGroup.state.filter(function(t){return t.some(function(t){return t.view===e})}).flatMap(function(t){return r.Observable.of(t.filter(function(t){return t.view===e})[0])}).subscribe(function(t){return e.updateState(t)})},t.prototype.updateState=function(t){t.cond&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!t.cond&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)},t.prototype.ngOnDestroy=function(){this.sub&&this.sub.unsubscribe()},Object.defineProperty(t.prototype,"ngAlt",{set:function(t){this.cond=t,this.ngAltGroup.updateAlternative(this)},enumerable:!0,configurable:!0}),t}();s.decorators=[{type:e.Directive,args:[{selector:"[ngAlt]"}]}],s.ctorParameters=function(){return[{type:e.TemplateRef},{type:e.ViewContainerRef},{type:o,decorators:[{type:e.Host}]}]},s.propDecorators={ngAlt:[{type:e.Input}]};var a=function(){};a.decorators=[{type:e.NgModule,args:[{declarations:[o,s],exports:[o,s]}]}],t.NgAltModule=a,t.ɵb=s,t.ɵa=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-alt.umd.min.js.map
