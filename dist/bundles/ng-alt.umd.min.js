!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ng-alt",["exports","@angular/core","rxjs","rxjs/operators"],e):e(t["ng-alt"]={},t.ng.core,t.rxjs,t.rxjs.operators)}(this,function(t,e,r,n){"use strict";var i=Object.assign||function i(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function o(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(o)throw o.error}}return s}var s=function(){function t(){this._state=[],this.state=new r.Subject}return t.prototype.addAlternative=function(t){this._state=function r(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t}(this._state,[{view:t,cond:!1}]),this.enforceState()},t.prototype.updateAlternative=function(e){var t,r=this._state.findIndex(function(t){return t.view===e});-1!==r&&(this._state=Object.assign([],this._state,((t={})[r]={view:e,cond:!1},t)),this.enforceState())},t.prototype.enforceState=function(){this._state=this._state.map(function(t){return i({},t,{cond:!1})});var t=this._state.findIndex(function(t){return t.view.cond});-1!==t&&(this._state[t].cond=!0),this.state.next(this._state)},t.decorators=[{type:e.Directive,args:[{selector:"[ngAltGroup]"}]}],t}(),a=function(){function t(t,e,r){this.templateRef=t,this.viewContainer=e,this.ngAltGroup=r,this.cond=!1,this.hasView=!1}return t.prototype.ngOnInit=function(){var e=this;this.ngAltGroup.addAlternative(this),this.sub=this.ngAltGroup.state.asObservable().pipe(n.filter(function(t){return t.some(function(t){return t.view===e})}),n.flatMap(function(t){return r.of(t.filter(function(t){return t.view===e})[0])})).subscribe(function(t){return e.updateState(t)})},t.prototype.updateState=function(t){t.cond&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!t.cond&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)},t.prototype.ngOnDestroy=function(){this.sub&&this.sub.unsubscribe()},Object.defineProperty(t.prototype,"ngAlt",{set:function(t){this.cond=t,this.ngAltGroup.updateAlternative(this)},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Directive,args:[{selector:"[ngAlt]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef},{type:e.ViewContainerRef},{type:s,decorators:[{type:e.Host}]}]},t.propDecorators={ngAlt:[{type:e.Input}]},t}(),u=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[s,a],exports:[s,a]}]}],t}();t.NgAltModule=u,t.ɵb=a,t.ɵa=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-alt.umd.min.js.map